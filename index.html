<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
  <h1>The Psychic Game</h1>  
    <form>
        <p >Guess what letter I'm thinking of</p>
        <p><span id = "numWins"></span></p>

        <p></p><span id="numLosses"></span>

        <p><span id = "numGuesses"></span></p>

        <p>Your guesses so far: <span id = "playersGuess"></span></p>
    </form>


    <script>
      

        let wins = 0;
        let losses= 0;
        let guesses= 9;
        let guessSoFar = []

        let alphabet = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']

        const getGuess = function() {
            return alphabet[Math.floor(Math.random() * alphabet.length)] 
        }

            const showWins = function(){
                document.getElementById('numWins').innerHTML = "Wins: " + wins;
            }
            const showLosses = function(){
                document.getElementById('numLosses').innerHTML = "Losses: " + losses;
            }
            const guessesRemaining = function(){
                document.getElementById('numGuesses').innerHTML = `Guesses left: ${guesses}` ;
            }
            const resetGame = function(){
                guesses = 9
                guessSoFar = ['']
            }

            const showGuessSoFar = function(){
                
            document.getElementById('chosen').innerHTML = 'Guesses so far: ' + guessSoFar.join(', ') 
            
            }
            const loseGuesses = function(){
                guesses = guesses - 1
            }
           
           
           
            const runGame = function() {
                showWins()
                showLosses()
                guessesRemaining()
            
            compGuess = getGuess()
            console.log(compGuess)
            
            document.onkeyup = function(event) {
                let userGuess = String.fromCharCode(event.keyCode).toLowerCase()

                if(event.keyCode >= 65 && event.keyCode <= 90){
                    console.log(userGuess)
                    guessSoFar.push(userGuess)
                    //console.log(guessSoFar.join(', '))
                    if(compGuess !== userGuess){
                        guesses = guesses - 1
                        guessesRemaining()
                        
                        
                        if(guesses === 0){
                            losses = losses + 1
                            showLosses()
                            resetGame()
                        }
                    }else{ 
                        wins = wins + 1
                        showWins()
                        resetGame()
                        runGame()
                        }                
                }else{}
                
            }
            }





        //     resetGame()
        //     showWins()
        //     showLosses()
        //     guessesRemaining()
        //     computerGuess()
        //     showGuessSoFar()

        //     document.onkeyup = function(event) {
        //     let userGuess = String.fromCharCode(event.keyCode).toLowerCase()
            
        //         if (event.keyCode >= 65 && event.keyCode <= 90){ 
        //                 console.log(userGuess)
                        
                        
        //                     if(userGuess === compGuess){
        //                         wins = wins + 1
        //                         console.log('You Win')
        //                         runGame()
        //                     }else if(guesses === 0){ 
        //                         losses = losses + 1
        //                         runGame()
        //                      }
        //                      else{ 
        //                          showGuessSoFar()
        //                          }
                           
               
                
        //     }
        //         else{}
            
            
            
            
        //     }
             
            
            
            
        // }
         

        runGame()
        
    
    
    
    </script>
</body>
</html>